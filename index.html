<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tạo tên ngẫu nhiên theo cặp</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
      }

      label,
      textarea,
      input,
      button,
      select {
        display: block;
        margin-bottom: 10px;
        width: 100%;
      }

      textarea {
        height: 150px;
      }

      button {
        padding: 10px;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <h1>Tạo tên ngẫu nhiên theo cặp</h1>
    <label for="number">Số lượng muốn tạo:</label>
    <input type="number" id="number" placeholder="Nhập số lượng" value="10">
    <label for="names">Dữ liệu nguồn:</label>
    <textarea id="names">
Anh  
Linh  
Trang  
Thao  
Huy  
Ngoc  
Phuong  
Tuan  
Huyen  
Huong  
Nhi  
Ha  
Ngan  
Hang  
Hieu  
Vy  
Dat  
Nam  
Quynh  
Hien  
Hoang  
Minh  
Thu  
Yen  
Nhung  
Duc  
Dung  
Mai  
Duy  
Long  
Son  
Hung  
Van  
Bao  
Thanh  
Thuy  
Cuong  
Nhu  
Nga  
Phuc  
Trung  
My  
Hanh  
Hai  
Thang  
Tung  
Duyen  
Uyen  
Quan  
Han  
Giang  
Khang  
Hoa  
Tram  
Tien  
Quang  
Lan  
Trinh  
Khoa  
Ly  
Khanh  
Oanh  
Vu  
Chi  
Quyen  
Phong  
Truong  
Thuong  
Tu  
Tai  
Hong  
Loan  
Tam  
Thinh  
Nguyen  
Duong  
Phat  
Toan  
Vinh  
Nghia  
An  
Manh  
Lam  
Binh  
Tran  
Nhan  
Kien  
Viet  
Hue  
Chau  
Truc  
Thai  
Lien  
Loc  
Phu  
Nguyet  
Thien  
Tri  
Tuyen  
Tan  
Khoi  
Tuyet  
Kiet  
Vi  
Sang  
Hoai  
Hiep  
Nhat  
Xuan  
Thuan  
Cong  
Diem  
Tham  
Y  
Hau  
Hao  
Quy  
Nghi  
Dang  
Trong  
Chien  
Luan  
Le  
Kieu  
Thy  
Bich  
Phuoc  
Thi  
Thong  
Khai  
Quoc  
Tin  
Dai  
Dong  
Thoa  
Dao  
Tra  
Vuong  
Loi  
Chung  
Danh  
Dieu  
Phung  
Diep  
Kim  
Cuc  
Tho  
Suong  
Hoan  
Thom  
Chinh  
Phi  
Quyet  
Lieu  
Na  
Canh  
Khiem  
Kha  
Bang  
Luc  
Bach  
Dinh  
Tuong  
Nhut  
Mi  
Luong  
Khuong  
Luyen  
Bac  
Chuong  
Tuoi  
Doan  
Nie  
Dan  
Huan  
Thuc  
Mo  
Thach  
Ninh  
Ky  
Tinh  
Men  
Huu  
Nhien  
The  
Khuyen  
Trieu  
Liem  
Huynh  
Sy  
Triet  
Man  
Xuyen  
Cham  
Sinh  
Lanh  
Sen  
Nha  
Ngoan  
Ai  
Dien  
Diu  
Khue  
Vui  
Nuong  
Giap  
Gam  
Do  
Qui  
Lap  
Nu  
Giao  
Hop  
Cam  
Giau  
Tiep  
Doanh  
Hoc  
Luu  
Bien  
Du  
Lua  
Ni  
Chang  
Thoai  
Chuc  
Que  
Ngat  
Phap  
Nghiep  
Hoi  
Toi  
Vien  
Nham  
Duoc  
Than  
Ny  
May  
Luat  
Be  
Nhai  
Chuyen  
Lai  
Ba  
Tue  
Cao  
Chanh  
Gia  
Sa  
Si  
Phan  
Nghiem  
Su  
Thuat  
Thin  
Truyen  
Duan  
Mui  
Hy  
Xoan  
Tay  
Thiet  
Em  
San  
Theu  
Thieu  
Di  
Tao  
Them  
Uy  
Thuyen  
Sam  
Nhon  
Ut  
Lich  
Ho  
Bo  
Ton  
Can  
Sao  
Thuyet  
Hoat  
Mung  
Bong  
Xinh  
Ca  
Thoan  
Chan  
Mien  
Sau  
Dep  
Pha  
No  
Nhanh  
Muoi  
Le
    </textarea>
    <label for="removeAccents">Loại bỏ dấu tiếng việt nếu có:</label>
    <select id="removeAccents">
      <option value="no">Không</option>
      <option value="yes">Có</option>
    </select>
    <button id="generate">Tạo</button>
    <button id="copy">Sao chép</button>
    <button id="download">Tải kết quả</button>
    <textarea id="output" readonly></textarea>
    <script>
      function removeVietnameseAccents(str, option = 0) {
        var from, to;
        if (option === 0) {
          from = "àáãảạăằắẳẵặâầấẩẫậèéẻẽẹêềếểễệđùúủũụưừứửữựòóỏõọôồốổỗộơờớởỡợìíỉĩịäëïîöüûñçýỳỹỵỷ",
            to = "aaaaaaaaaaaaaaaaaeeeeeeeeeeeduuuuuuuuuuuoooooooooooooooooiiiiiaeiiouuncyyyyy";
        }
        if (option === 1) {
          from = "àáãảạăằắẳẵặâầấẩẫậèéẻẽẹêềếểễệđùúủũụưừứửữựòóỏõọôồốổỗộơờớởỡợìíỉĩịäëïîöüûñçýỳỹỵỷ",
            to = "aaaaaăăăăăăââââââeeeeeêêêêêêđuuuuuưưưưưưoooooôôôôôôơơơơơơiiiiiaeiiouuncyyyyy";
        }
        for (var i = 0, l = from.length; i < l; i++) {
          str = str.replace(RegExp(from[i], "gi"), to[i]);
        }
        str = str.toLowerCase().trim().replace(/[^a-z0-9\-]/g, '-').replace(/-+/g, '-');
        return str;      
      }

      function getRandomPairs(names, n) {
        const pairs = new Set();
        const totalNames = names.length;
        while (pairs.size < n && pairs.size < totalNames * (totalNames - 1)) {
          const name1 = names[Math.floor(Math.random() * totalNames)];
          const name2 = names[Math.floor(Math.random() * totalNames)];
          if (name1 !== name2) {
            const pair = `${name1} ${name2}`;
            const reversePair = `${name2} ${name1}`;
            if (!pairs.has(pair) && !pairs.has(reversePair)) {
              pairs.add(pair);
            }
          }
        }
        return Array.from(pairs);
      }
      document.getElementById('generate').addEventListener('click', () => {
        const n = parseInt(document.getElementById('number').value) || 10;
        const namesInput = document.getElementById('names').value.trim().split('\n').filter(name => name);
        const removeAccents = document.getElementById('removeAccents').value === 'yes';
        const names = removeAccents ? namesInput.map(removeVietnameseAccents) : namesInput;
        const pairs = getRandomPairs(names, n);
        document.getElementById('output').value = pairs.join('\n');
      });
      document.getElementById('copy').addEventListener('click', () => {
        const output = document.getElementById('output');
        output.select();
        document.execCommand('copy');
        alert('Copied to clipboard!');
      });
      document.getElementById('download').addEventListener('click', () => {
        const data = document.getElementById('output').value;
        const blob = new Blob([data], {
          type: 'text/plain'
        });
        const a = document.createElement('a');
        a.href = URL.createObjectURL(blob);
        a.download = 'name_pairs.txt';
        a.click();
      });
    </script>
  </body>
</html>
